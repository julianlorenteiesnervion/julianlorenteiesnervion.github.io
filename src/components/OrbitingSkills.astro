---
const technologies = [
    {
        name: "React Native",
        color: "text-cyan-400",
        bg: "bg-cyan-400/10",
        border: "border-cyan-400/20",
        image: "/logos/react.svg"
    },
    {
        name: "Kotlin",
        color: "text-purple-400",
        bg: "bg-purple-400/10",
        border: "border-purple-400/20",
        image: "/logos/kotlin.png"
    },
    {
        name: ".NET",
        color: "text-indigo-400",
        bg: "bg-indigo-400/10",
        border: "border-indigo-400/20",
        image: "/logos/dotnet.svg"
    },
    {
        name: "TypeScript",
        color: "text-blue-400",
        bg: "bg-blue-400/10",
        border: "border-blue-400/20",
        image: "/logos/typescript.svg"
    },
    {
        name: "Java",
        color: "text-orange-400",
        bg: "bg-orange-400/10",
        border: "border-orange-400/20",
        image: "/logos/java.svg"
    },
    {
        name: "Python",
        color: "text-yellow-400",
        bg: "bg-yellow-400/10",
        border: "border-yellow-400/20",
        image: "/logos/python.svg"
    }
];
---

<div class="relative flex items-center justify-center h-[450px] w-full overflow-hidden rounded-2xl bg-gray-900/20 border border-gray-800/50">
    <!-- Center Content -->
    <div class="absolute z-10 flex flex-col items-center justify-center text-center p-6 bg-gray-950/80 backdrop-blur-md rounded-full border border-gray-800 shadow-2xl w-32 h-32">
        <span class="text-xs font-mono text-blue-400 mb-1">MOST USED</span>
        <span class="text-xl font-bold text-white">Tech<br/>Stack</span>
    </div>

    <!-- Orbit Path -->
    <div class="absolute w-[320px] h-[320px] border border-dashed border-gray-700/30 rounded-full"></div>
    <div class="absolute w-[320px] h-[320px] border border-gray-800/50 rounded-full animate-pulse-slow"></div>

    <!-- Orbiting Container -->
    <div class="absolute w-[320px] h-[320px] animate-spin-slow">
        {technologies.map((tech, index) => {
            const angle = (360 / technologies.length) * index;
            return (
                <div 
                    class="absolute top-1/2 left-1/2 w-0 h-0"
                    style={`transform: rotate(${angle}deg) translate(160px) rotate(-${angle}deg)`}
                >
                    <!-- The item itself needs to counter-rotate to stay upright while the container spins -->
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-counter-spin">
                        <div class={`flex flex-col items-center gap-2 group`}>
                            <div class={`w-14 h-14 rounded-xl ${tech.bg} ${tech.border} border flex items-center justify-center shadow-lg backdrop-blur-sm transition-all duration-300 group-hover:scale-110 group-hover:border-opacity-50 p-2`}>
                                <img src={tech.image} alt={tech.name} class="w-full h-full object-contain" />
                            </div>
                            <span class={`text-xs font-medium ${tech.color} opacity-0 group-hover:opacity-100 transition-opacity absolute -bottom-6 whitespace-nowrap bg-gray-900 px-2 py-1 rounded border border-gray-800`}>
                                {tech.name}
                            </span>
                        </div>
                    </div>
                </div>
            );
        })}
    </div>
</div>

<style>
    .animate-spin-slow {
        animation: spin 40s linear infinite;
    }
    .animate-counter-spin {
        animation: counter-spin 40s linear infinite;
    }
    
    /* Pause on hover */
    .relative:hover .animate-spin-slow,
    .relative:hover .animate-counter-spin {
        animation-play-state: paused;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    @keyframes counter-spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(-360deg); }
    }
    
    .animate-pulse-slow {
        animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
</style>
